{{template "admin" .}}

{{define "page-title"}}
    Reserevation Detail
{{end}}

{{define "content"}}
    {{$res := index .Data "reservation"}}
    {{$src := index .StringMap "src"}}
    <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Reservation detail of <b>{{$res.FirstName}} {{$res.LastName}}</b></h4>
                <strong>Arrival : </strong>{{humanDate $res.StartDate}}<br>
                <strong>Departure : </strong>{{humanDate $res.EndDate}}<br>
                <strong>Room : </strong>{{$res.Room.RoomName}}
                <form method="post" action="/admin/reservations/{{$src}}/{{$res.ID}}" novalidate>
                    <input type="hidden" name="csrf_token" value="{{.CSRFToken}}">
                    <div class="form-group mt-3">
                    <label for="first_name">First Name</label>
                    {{with .Form.Error.Get "first_name"}}
                        <label class="text-danger">{{.}}</label>
                    {{end}}
                    <input
                        required
                        class="form-control {{with .Form.Error.Get "first_name"}} is-invalid {{end}}"
                        id="first_name"
                        autocomplete="off"
                        type="text"
                        name="first_name"
                        value="{{$res.FirstName}}"
                    />
                    </div>

                    <div class="form-group">
                    <label for="last_name">Last Name</label>
                    {{with .Form.Error.Get "last_name"}}
                        <label class="text-danger">{{.}}</label>
                    {{end}}
                    <input
                        required
                        class="form-control {{with .Form.Error.Get "last_name"}} is-invalid {{end}}"
                        id="last_name"
                        autocomplete="off"
                        type="text"
                        name="last_name"
                        value="{{$res.LastName}}"
                    />
                    </div>

                    <div class="form-group">
                    <label for="email">Email</label>
                    {{with .Form.Error.Get "email"}}
                        <label class="text-danger">{{.}}</label>
                    {{end}}
                    <input
                        required
                        class="form-control {{with .Form.Error.Get "email"}} is-invalid {{end}}"
                        id="email"
                        autocomplete="off"
                        type="email"
                        name="email"
                        value="{{$res.Email}}"
                    />
                    </div>

                    <div class="form-group">
                    <label for="phone">Phone:</label>
                    <input
                        required
                        class="form-control"
                        id="phone"
                        autocomplete="off"
                        type="text"
                        name="phone"
                        value="{{$res.Phone}}"
                    />
                    </div>
                    <input type="submit" class="btn btn-success mt-5 mb-5" value="Save"/>
                    <a href="/admin/reservations-{{$src}}" class="btn btn-warning">Cancel</a>
                
                </form>
                
            </div>
        </div>
    </div>
{{end}}